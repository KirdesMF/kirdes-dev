---
import { languages } from "../i18n/ui";
import { getLangFromURL, getRouteFromURL } from "../i18n/utils";
import Frame from "./grid/Frame.astro";

const route = getRouteFromURL(Astro.url);
const curLang = getLangFromURL(Astro.url);

function isActive(lang: string) {
	return lang === curLang;
}
---

<Frame as="nav" class="col-span-2">
  <ul class="flex gap-4 px42 py-4 items-center justify-center">
    {
      Object.entries(languages).map(([lang, label]) => (
        <li>
          <a data-active={isActive(lang)} href={`/${lang}/${route}`} class="data-[active='true']:text-red-600">
            {label}
          </a>
        </li>
      ))
    }
  </ul>
</Frame>
